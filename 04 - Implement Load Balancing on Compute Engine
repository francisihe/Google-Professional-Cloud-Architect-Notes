LAB 1: Creating a Virtual Machine

You can create virtual machines using 
a. The Cloud Shell, from the Cloud console
b. Using the gcloud command

a. Using the Cloud Shell:
In Cloud Shell, you click on Compute Engine - VM Instances, click 'Create Instance', fill in the parameters and hit create. You can SSH into it as well.

You then install the NGINX web server
1. Update the OS using 'sudo apt-get update'
2. Install NGINX using 'sudo apt-get install -y nginx'
3. Confirm that NGINX is running using 'ps auwx | grep nginx'
4. Click on the external IP to see the default page in a new browser

b. Using gclound command

1. You use the command:
gcloud compute instances create $NAME --machine-type e2-medium --zone=$ZONE
Sample output:

     Created [...gcelab2].
     NAME: gcelab2
     ZONE:  Zone
     MACHINE_TYPE: e2-medium
     PREEMPTIBLE:
     INTERNAL_IP: 10.128.0.3
     EXTERNAL_IP: 34.136.51.150
     STATUS: RUNNING

2. To see the defaults run: 'gcloud compute instances create --help'


LAB 2: Getting Started with Cloud Shell and gcloud

1. Command to set the region: 'gcloud config set compute/region REGION'
2. Command to view the region setting: 'gcloud config get-value compute/region'
3. Command to set the zone: 'gcloud config set compute/zone ZONE'
4. Command to view project zone setting: 'gcloud config get-value compute/zone'
5. Command to view project id: 'gcloud config get-value project'
6. Command to view details of the project in 5 above: 'gcloud compute project-info describe --project $(gcloud config get-value project)'
7. Setting env variable to store project ID: export PROJECT_ID=$(gcloud config get-value project)
8. Setting env variable to store Zone: export ZONE=$(gcloud config get-value compute/zone)
9. View the set variables: echo -e "PROJECT ID: $PROJECT_ID\nZONE: $ZONE"

Creating the VM machine: 'gcloud compute instances create gcelab2 --machine-type e2-medium --zone $ZONE'
